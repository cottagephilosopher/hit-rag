# ðŸš€ å¿«é€Ÿå¯åŠ¨æŒ‡å—

## 30ç§’å¿«é€Ÿå¼€å§‹

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your-org/hit-rag.git
cd hit-rag

# 2. è¿è¡Œéƒ¨ç½²è„šæœ¬
chmod +x deploy/deploy.sh
./deploy/deploy.sh

# 3. ç­‰å¾…å®ŒæˆåŽè®¿é—®
open http://localhost:5173  # æ–‡æ¡£ç®¡ç†
open http://localhost:3000  # èŠå¤©é—®ç­”
```

## ðŸ“ éƒ¨ç½²å‰å‡†å¤‡

### å¿…éœ€é¡¹
- âœ… Docker Desktop å·²å®‰è£…å¹¶è¿è¡Œ
- âœ… Git å·²å®‰è£…
- âœ… LLM API å¯†é’¥ï¼ˆAzure OpenAI æˆ– OpenAIï¼‰

### å¯é€‰é¡¹
- ðŸ“„ å‡†å¤‡ä¸€äº› Markdown æ–‡æ¡£
- ðŸ”§ Ollamaï¼ˆå¦‚æžœæƒ³ä½¿ç”¨æœ¬åœ° Embeddingï¼‰

## ðŸŽ¯ éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤ 1: è¿è¡Œéƒ¨ç½²è„šæœ¬

```bash
./deploy/deploy.sh
```

è„šæœ¬ä¼šäº¤äº’å¼åœ°å¼•å¯¼ä½ ï¼š

1. **é€‰æ‹© LLM æä¾›å•†**
   ```
   1. Azure OpenAI (æŽ¨è)
   2. OpenAI
   ```

2. **è¾“å…¥ API å¯†é’¥**
   ```
   Azure OpenAI API Key: sk-xxxxx
   Azure OpenAI Endpoint: https://your-resource.openai.azure.com/
   ```

3. **é€‰æ‹© Embedding æä¾›å•†**
   ```
   1. Ollama (æœ¬åœ°å…è´¹)
   2. Azure OpenAI
   3. OpenAI
   ```

4. **ç¡®è®¤æ–‡æ¡£ç›®å½•**
   ```
   é»˜è®¤è·¯å¾„: /Users/you/rags/all-md
   ä½¿ç”¨é»˜è®¤è·¯å¾„ï¼Ÿ[Y/n]:
   ```

### æ­¥éª¤ 2: ç­‰å¾…æœåŠ¡å¯åŠ¨

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… é…ç½®çŽ¯å¢ƒå˜é‡
- âœ… åˆ›å»ºå¿…è¦ç›®å½•
- âœ… å¯åŠ¨ Docker æœåŠ¡ï¼ˆMilvus, Backend, Frontend, Chat Viewï¼‰
- âœ… éªŒè¯ç³»ç»Ÿå¥åº·

â±ï¸ é¢„è®¡ç­‰å¾…æ—¶é—´ï¼š3-5åˆ†é’Ÿ

### æ­¥éª¤ 3: è®¿é—®ç³»ç»Ÿ

éƒ¨ç½²æˆåŠŸåŽï¼Œä½ ä¼šçœ‹åˆ°ï¼š

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    éƒ¨ç½²æˆåŠŸï¼                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

è®¿é—®åœ°å€ï¼š

  ðŸ“„ æ–‡æ¡£ç®¡ç†ç•Œé¢:    http://localhost:5173
  ðŸ’¬ èŠå¤©é—®ç­”ç•Œé¢:    http://localhost:3000
  ðŸ”Œ åŽç«¯ API:        http://localhost:8000
  ðŸ—„ï¸  Milvus ç®¡ç†:    http://localhost:9091
```

## ðŸ“‚ ä½¿ç”¨ç³»ç»Ÿ

### 1. ä¸Šä¼ æ–‡æ¡£

1. æ‰“å¼€æ–‡æ¡£ç®¡ç†ç•Œé¢ï¼šhttp://localhost:5173
2. å°† Markdown æ–‡ä»¶æ‹–æ”¾åˆ° `all-md` ç›®å½•
3. åˆ·æ–°é¡µé¢ï¼Œæ–‡æ¡£ä¼šè‡ªåŠ¨æ˜¾ç¤º

### 2. å¤„ç†æ–‡æ¡£

1. ç‚¹å‡»æ–‡æ¡£åç§°
2. ç­‰å¾…ç³»ç»Ÿè‡ªåŠ¨åˆ†æžå’Œåˆ‡åˆ†æ–‡æ¡£
3. æŸ¥çœ‹ç”Ÿæˆçš„ chunksï¼ˆæ–‡æ¡£ç‰‡æ®µï¼‰

### 3. å‘é‡åŒ–æ–‡æ¡£

1. é€‰æ‹©è¦å‘é‡åŒ–çš„ chunks
2. ç‚¹å‡»"æ‰¹é‡å‘é‡åŒ–"æŒ‰é’®
3. ç­‰å¾…å‘é‡åŒ–å®Œæˆ

### 4. å¼€å§‹é—®ç­”

1. æ‰“å¼€èŠå¤©ç•Œé¢ï¼šhttp://localhost:3000
2. è¾“å…¥é—®é¢˜ï¼Œä¾‹å¦‚ï¼š"è¿™ä»½æ–‡æ¡£è®²äº†ä»€ä¹ˆï¼Ÿ"
3. ç³»ç»Ÿä¼šåŸºäºŽæ–‡æ¡£å†…å®¹ç”Ÿæˆå›žç­”

## ðŸ” éªŒè¯éƒ¨ç½²

è¿è¡Œå¥åº·æ£€æŸ¥è„šæœ¬ï¼š

```bash
./deploy/healthcheck.sh
```

ä½ åº”è¯¥çœ‹åˆ°æ‰€æœ‰æœåŠ¡çŠ¶æ€ä¸º âœ“ï¼ˆæ­£å¸¸ï¼‰ï¼š

```
[1/7] æ£€æŸ¥ Docker æœåŠ¡çŠ¶æ€...
  âœ“ Docker æœåŠ¡æ­£åœ¨è¿è¡Œ

[2/7] æ£€æŸ¥ Milvus å‘é‡æ•°æ®åº“...
  âœ“ Milvus å¥åº·çŠ¶æ€: æ­£å¸¸

[3/7] æ£€æŸ¥åŽç«¯ API æœåŠ¡...
  âœ“ åŽç«¯ API: æ­£å¸¸
  âœ“ å¯ç”¨åŠ©æ‰‹: 1
  âœ“ æ–‡æ¡£æ•°é‡: 0

[4/7] æ£€æŸ¥å‘é‡åŒ–çŠ¶æ€...
  âœ“ å‘é‡åŒ–æœåŠ¡: æ­£å¸¸

[5/7] æ£€æŸ¥å‰ç«¯ UI æœåŠ¡...
  âœ“ å‰ç«¯ UI: æ­£å¸¸

[6/7] æ£€æŸ¥ Chat View æœåŠ¡...
  âœ“ Chat View: æ­£å¸¸

[7/7] æµ‹è¯• RAG æŸ¥è¯¢æµç¨‹...
  âœ“ RAG æŸ¥è¯¢æµç¨‹: æ­£å¸¸
```

## ðŸŽ¬ å®Œæ•´ç¤ºä¾‹

### ç¤ºä¾‹ï¼šæ·»åŠ å¹¶æŸ¥è¯¢æ–‡æ¡£

1. **å‡†å¤‡æ–‡æ¡£**
   ```bash
   # åˆ›å»ºç¤ºä¾‹æ–‡æ¡£
   cat > all-md/example.md << 'EOF'
   # AutoAgent ä»‹ç»

   AutoAgent æ˜¯ä¸€ä¸ªä¼ä¸šæ™ºèƒ½ä½“å¹³å°ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

   ## ä¸»è¦åŠŸèƒ½
   - è‡ªåŠ¨åŒ–ä»»åŠ¡æ‰§è¡Œ
   - ä½Žä»£ç å¼€å‘
   - é«˜å¹¶å‘å¯æ‰©å±•
   - å¼€æ”¾ç”Ÿæ€ç³»ç»Ÿ

   ## åº”ç”¨åœºæ™¯
   - æ•°æ®åˆ†æžè‡ªåŠ¨åŒ–
   - æ™ºèƒ½å®¢æœ
   - ä¸šåŠ¡æµç¨‹ä¼˜åŒ–
   EOF
   ```

2. **è®¿é—®æ–‡æ¡£ç®¡ç†ç•Œé¢**
   ```
   http://localhost:5173
   ```

3. **å¤„ç†æ–‡æ¡£**
   - ç‚¹å‡» "example.md"
   - ç­‰å¾…è‡ªåŠ¨å¤„ç†å®Œæˆ
   - æŸ¥çœ‹ç”Ÿæˆçš„ chunks

4. **å‘é‡åŒ–**
   - é€‰æ‹©æ‰€æœ‰ chunks
   - ç‚¹å‡»"æ‰¹é‡å‘é‡åŒ–"
   - ç­‰å¾…å®Œæˆï¼ˆçº¦10-30ç§’ï¼‰

5. **å¼€å§‹é—®ç­”**
   ```
   æ‰“å¼€: http://localhost:3000

   é—®: "AutoAgentæœ‰å“ªäº›ä¸»è¦åŠŸèƒ½ï¼Ÿ"

   ç­”: AutoAgentçš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š
   1. **è‡ªåŠ¨åŒ–ä»»åŠ¡æ‰§è¡Œ**: å¹³å°èƒ½å¤Ÿè‡ªåŠ¨æ‹†è§£ä»»åŠ¡...
   2. **ä½Žä»£ç å¼€å‘**: æä¾›ä½Žä»£ç åŒ–ã€å¯è§†åŒ–çš„å¼€å‘çŽ¯å¢ƒ...
   3. **é«˜å¹¶å‘å¯æ‰©å±•**: é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—çš„å¼‚æ­¥è®¾è®¡...
   4. **å¼€æ”¾ç”Ÿæ€ç³»ç»Ÿ**: æä¾›ä¸°å¯Œçš„å·¥å…·å’Œæ’ä»¶ç”Ÿæ€...
   ```

## ðŸ› ï¸ å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çŠ¶æ€
docker compose ps

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker compose logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker compose logs -f backend
docker compose logs -f milvus

# é‡å¯æœåŠ¡
docker compose restart

# åœæ­¢æœåŠ¡
docker compose down

# é‡æ–°æž„å»ºå¹¶å¯åŠ¨
docker compose up -d --build

# å¥åº·æ£€æŸ¥
./deploy/healthcheck.sh
```

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: éƒ¨ç½²è„šæœ¬å¡ä½ä¸åŠ¨ï¼Ÿ

**A**: å¯èƒ½æ˜¯åœ¨ä¸‹è½½ Docker é•œåƒï¼Œè€å¿ƒç­‰å¾…ã€‚å¯ä»¥å¼€å¯å¦ä¸€ä¸ªç»ˆç«¯æŸ¥çœ‹è¿›åº¦ï¼š

```bash
docker compose logs -f
```

### Q2: ç«¯å£è¢«å ç”¨ï¼Ÿ

**A**: ä¿®æ”¹ `docker-compose.yml` ä¸­çš„ç«¯å£æ˜ å°„ï¼š

```yaml
services:
  backend:
    ports:
      - "8001:8000"  # æ”¹ä¸ºå…¶ä»–ç«¯å£
```

### Q3: Milvus å¯åŠ¨å¤±è´¥ï¼Ÿ

**A**: æ£€æŸ¥ç£ç›˜ç©ºé—´å’Œå†…å­˜ï¼š

```bash
# æ£€æŸ¥ç£ç›˜
df -h

# æ£€æŸ¥å†…å­˜
docker stats

# æ¸…ç† Docker
docker system prune -a
```

### Q4: æ— æ³•è¿žæŽ¥ OpenAI APIï¼Ÿ

**A**: æ£€æŸ¥ç½‘ç»œå’Œ API å¯†é’¥ï¼š

```bash
# æµ‹è¯•è¿žæŽ¥
curl https://api.openai.com/v1/models \
  -H "Authorization: Bearer $OPENAI_API_KEY"
```

### Q5: å‘é‡åŒ–å¤±è´¥ï¼Ÿ

**A**: æ£€æŸ¥ Embedding æœåŠ¡ï¼š

```bash
# å¦‚æžœä½¿ç”¨ Ollama
ollama list
ollama pull qwen3-embedding:latest

# æµ‹è¯• Ollama
curl http://localhost:11434/api/embeddings \
  -d '{"model": "qwen3-embedding:latest", "prompt": "test"}'
```

## ðŸ“š ä¸‹ä¸€æ­¥

éƒ¨ç½²æˆåŠŸåŽï¼Œå»ºè®®é˜…è¯»ï¼š

- [å®Œæ•´éƒ¨ç½²æ–‡æ¡£](README.deploy.md) - è¯¦ç»†çš„é…ç½®å’Œç»´æŠ¤æŒ‡å—
- [ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œ](USAGE.md) - å¦‚ä½•ä½¿ç”¨ç³»ç»Ÿçš„å„é¡¹åŠŸèƒ½
- [API æ–‡æ¡£](http://localhost:8000/docs) - åŽç«¯ API æŽ¥å£æ–‡æ¡£

## ðŸ’¡ å°è´´å£«

1. **æ€§èƒ½ä¼˜åŒ–**
   - æŽ¨èé…ç½®ï¼š4æ ¸å¿ƒ CPU + 8GB å†…å­˜
   - å¤§é‡æ–‡æ¡£æ—¶ï¼Œè€ƒè™‘å¢žåŠ  `VECTOR_BATCH_SIZE`

2. **æ•°æ®å®‰å…¨**
   - å®šæœŸå¤‡ä»½ `volumes/` ç›®å½•
   - ä¸è¦å°† `.env` æ–‡ä»¶æäº¤åˆ° Git

3. **æˆæœ¬æŽ§åˆ¶**
   - ä¼˜å…ˆä½¿ç”¨ Ollama æœ¬åœ° Embeddingï¼ˆå…è´¹ï¼‰
   - ä½¿ç”¨ Azure OpenAI çš„ gpt-3.5-turboï¼ˆæ›´ä¾¿å®œï¼‰

4. **æœ€ä½³å®žè·µ**
   - æ–‡æ¡£ä»¥ä¸»é¢˜åˆ†ç±»å­˜æ”¾åœ¨å­ç›®å½•
   - å®šæœŸæ¸…ç†ä¸éœ€è¦çš„æ–‡æ¡£
   - ä½¿ç”¨æœ‰æ„ä¹‰çš„æ–‡æ¡£å‘½å

## ðŸ†˜ èŽ·å–å¸®åŠ©

é‡åˆ°é—®é¢˜ï¼Ÿ

1. æŸ¥çœ‹æ—¥å¿—ï¼š`docker compose logs -f`
2. è¿è¡Œå¥åº·æ£€æŸ¥ï¼š`./deploy/healthcheck.sh`
3. æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ï¼š`README.deploy.md`
4. æäº¤é—®é¢˜ï¼š[GitHub Issues](https://github.com/your-org/hit-rag/issues)

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼** ðŸŽ‰
